let currentPlayerSymbol="x",squareValues=["","","","","","","","",""],gameStatus="";const gameStateKey="tic-tac-toe-game-state";function saveGameState(){const e={currentPlayerSymbol:currentPlayerSymbol,squareValues:squareValues,gameStatus:gameStatus};window.localStorage.setItem(gameStateKey,JSON.stringify(e))}function loadGameState(){const e=window.localStorage.getItem(gameStateKey);if(null===e)return;const t=JSON.parse(e);currentPlayerSymbol=t.currentPlayerSymbol,squareValues=t.squareValues,gameStatus=t.gameStatus;for(let e=0;e<9;e+=1)if(""!==squareValues[e]){const t=document.createElement("img");t.src=`https://assets.aaonline.io/Module-DOM-API/formative-project-tic-tac-toe/player-${squareValues[e]}.svg`,document.getElementById(`square-${e}`).appendChild(t)}""!==gameStatus?(document.getElementById("game-status").innerHTML=`Winner: ${gameStatus}${getWinner()}`,document.getElementById("new-game").disabled=!1,document.getElementById("give-up").disabled=!0):(document.getElementById("game-status").innerHTML="",document.getElementById("new-game").disabled=!0,document.getElementById("give-up").disabled=!1,currentPlayerSymbol===computerPlayerSymbol&&""===gameStatus&&takeComputerTurn())}function checkGameStatus(){for(let e=0;e<9;e+=3)if(""!==squareValues[e]&&squareValues[e]===squareValues[e+1]&&squareValues[e]===squareValues[e+2]){gameStatus=squareValues[e].toUpperCase();break}for(let e=0;e<3;e+=1)if(""!==squareValues[e]&&squareValues[e]===squareValues[e+3]&&squareValues[e]===squareValues[e+6]){gameStatus=squareValues[e].toUpperCase();break}if(""!==squareValues[0]&&squareValues[0]===squareValues[4]&&squareValues[0]===squareValues[8]&&(gameStatus=squareValues[0].toUpperCase()),""!==squareValues[2]&&squareValues[2]===squareValues[4]&&squareValues[2]===squareValues[6]&&(gameStatus=squareValues[2].toUpperCase()),""===gameStatus){let e=!0;for(let t=0;t<9;t+=1)if(""===squareValues[t]){e=!1;break}e&&(gameStatus="None")}""!==gameStatus&&(document.getElementById("game-status").innerHTML=`Winner: ${gameStatus}${getWinner()}`,document.getElementById("new-game").disabled=!1,document.getElementById("give-up").disabled=!0),saveGameState()}function markSquare(e,t,a){const s=document.createElement("img");s.src=`https://assets.aaonline.io/Module-DOM-API/formative-project-tic-tac-toe/player-${a}.svg`,e.appendChild(s),squareValues[t]=a,currentPlayerSymbol="x"===currentPlayerSymbol?"o":"x",checkGameStatus()}window.addEventListener("DOMContentLoaded",(()=>{loadGameState(),document.getElementById("tic-tac-toe-board").addEventListener("click",(e=>{if(""!==gameStatus)return;const t=e.target.id;if(!t.startsWith("square-"))return;const a=Number.parseInt(t[t.length-1]);squareValues[a]})),document.getElementById("new-game").addEventListener("click",(()=>{currentPlayerSymbol="x",squareValues=["","","","","","","","",""],gameStatus="",assignComputerPlayer();for(let e=0;e<9;e+=1)document.getElementById(`square-${e}`).innerHTML="";document.getElementById("game-status").innerHTML="",document.getElementById("new-game").disabled=!0,document.getElementById("give-up").disabled=!1,saveGameState()})),document.getElementById("give-up").addEventListener("click",(()=>{gameStatus="x"===currentPlayerSymbol?"O":"X",document.getElementById("game-status").innerHTML=`Winner: ${gameStatus}${getWinner()}`,document.getElementById("new-game").disabled=!1,document.getElementById("give-up").disabled=!0,saveGameState()}))}));
