const player=document.querySelector(".player"),video=player.querySelector(".viewer"),progress=player.querySelector(".progress"),progressBar=player.querySelector(".progress__filled"),toggle=player.querySelector(".toggle"),skipButtons=player.querySelectorAll("[data-skip]"),ranges=player.querySelectorAll(".player__slider");function togglePlay(){const e=video.paused?"play":"pause";video[e]()}function updateButton(){const e=this.paused?"►":"❚ ❚";toggle.textContent=e}function skip(){video.currentTime+=parseFloat(this.dataset.skip)}function handleRangeUpdate(){video[this.name]=this.value}function handleProgress(){const e=video.currentTime/video.duration*100;progressBar.style.flexBasis=`${e}%`}function scrub(e){const t=e.offsetX/progress.offsetWidth*video.duration;video.currentTime=t}video.addEventListener("click",togglePlay),video.addEventListener("play",updateButton),video.addEventListener("pause",updateButton),video.addEventListener("timeupdate",handleProgress),toggle.addEventListener("click",togglePlay),skipButtons.forEach((e=>e.addEventListener("click",skip))),ranges.forEach((e=>e.addEventListener("change",handleRangeUpdate))),ranges.forEach((e=>e.addEventListener("mousemove",handleRangeUpdate)));let mousedown=!1;progress.addEventListener("click",scrub),progress.addEventListener("mousemove",(e=>mousedown&&scrub(e))),progress.addEventListener("mousedown",(()=>mousedown=!0)),progress.addEventListener("mouseup",(()=>mousedown=!1));
