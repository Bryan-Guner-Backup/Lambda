'use strict';$("li > .fa").parent().addClass("disabled");$("[data-action], .tool, .menu-open").removeClass("disabled");var menu={text:"textTool",poly:"polyTool"};$(function(){fontsAvailable.sort();for(var a=0;a<fontsAvailable.length;a++)$("#fontList").append('<li class="font'+(fontsAvailable[a]==fontsAvailable.selected?" selectedFont":"")+'">'+fontsAvailable[a]+"</li>");$("#boardWrapper").mercuryCanvas({})});var loader={hide:function(){$("#loader").hide()},show:function(){$("#loader").hide()}};
function error(a){noty({layout:"top",text:a,type:"error",timeout:!1})}function warning(a){noty({layout:"top",text:a,type:"warning",timeout:3E3})}function success(a){noty({layout:"top",text:a,type:"success",timeout:!1})}var fullscreen=!1;
function EnterFullScreen(){$("#fullscreenBtn").children("i").addClass("fa-compress").removeClass("fa-expand");docElm=document.documentElement;docElm.requestFullscreen?docElm.requestFullscreen():docElm.mozRequestFullScreen?docElm.mozRequestFullScreen():docElm.webkitRequestFullScreen?docElm.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):docElm.msRequestFullscreen&&docElm.msRequestFullscreen();fullscreen=!0;$("body").addClass("fullscreen")}
function ExitFullScreen(){$("#fullscreenBtn").children("i").addClass("fa-expand").removeClass("fa-compress");document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.exitFullscreen&&document.exitFullscreen();fullscreen=!1;$("body").removeClass("fullscreen")}
$(function(){$(window).bind("load resize",function(){width=0<this.window.innerWidth?this.window.innerWidth:this.screen.width});loader.hide();$("#fullscreenBtn").on("click",function(){fullscreen?ExitFullScreen():EnterFullScreen()});$(".dropdown-menu").on("click",function(a){a.stopPropagation()})});document.addEventListener("fullscreenchange",function(){document.fullScreen||ExitFullScreen()},!1);document.addEventListener("mozfullscreenchange",function(){document.mozFullScreen||ExitFullScreen()},!1);
document.addEventListener("webkitfullscreenchange",function(){document.webkitIsFullScreen||ExitFullScreen()},!1);document.addEventListener("msfullscreenchange",function(){document.msFullscreenElement||ExitFullScreen()},!1);$(document).on({keyup:function(a){a.preventDefault();27==a.keyCode&&fullscreen&&ExitFullScreen();122==a.keyCode&&(fullscreen?ExitFullScreen():EnterFullScreen())}});