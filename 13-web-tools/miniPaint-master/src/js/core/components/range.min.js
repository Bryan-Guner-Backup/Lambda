'use strict';(function(g){const r=b=>{const a=g(b.target.closest(".ui_range")),d=b.key,{value:c,step:f,min:k,max:m}=a.data();["Left","ArrowLeft","Down","ArrowDown"].includes(d)?(b.preventDefault(),n(a,c-f),a.trigger("input")):["Right","ArrowRight","Up","ArrowUp"].includes(d)?(b.preventDefault(),n(a,c+f),a.trigger("input")):["PageUp"].includes(d)?(b.preventDefault(),n(a,c+10*f),a.trigger("input")):["PageDown"].includes(d)?(b.preventDefault(),n(a,c-10*f),a.trigger("input")):["Home"].includes(d)?(b.preventDefault(),
n(a,k),a.trigger("input")):["End"].includes(d)&&(b.preventDefault(),n(a,m),a.trigger("input"))},t=b=>{const a=g(b.target.closest(".ui_range"));if(document.activeElement===a[0]){const {value:d,step:c}=a.data();0>b.originalEvent.deltaY?(b.preventDefault(),n(a,d+c),a.trigger("input")):0<b.originalEvent.deltaY&&(b.preventDefault(),n(a,d-c),a.trigger("input"))}},w=b=>{b.preventDefault();var a=b.touches&&0<b.touches.length?b.touches[0].target:b.target;const d=g(a.closest(".ui_range")),{handle:c,paddedTrack:f,
value:k,min:m,max:e,vertical:p}=d.data();var l=b.touches&&0<b.touches.length?b.touches[0].clientX:b.clientX;b=b.touches&&0<b.touches.length?b.touches[0].clientY:b.clientY;const h=f.getBoundingClientRect();var q=k;a!==c&&(p?(a=h.top-h.bottom,q=b-h.bottom):(a=h.right-h.left,q=l-h.left),q=(e-m)*Math.max(0,Math.min(1,q/a)),n(d,q),d.trigger("input"));d.data({mouseDownValue:q,mouseDownClientX:l,mouseDownClientY:b,mouseDownPaddedTrackRect:h,mouseMoveWindowHandler:u(d),mouseUpWindowHandler:v(d)});d.addClass("active");
l=g(window);l.on("mousemove touchmove",d.data("mouseMoveWindowHandler"));l.on("mouseup touchend",d.data("mouseUpWindowHandler"));d[0].focus()},x=b=>{b.preventDefault()},u=b=>a=>{a.preventDefault();a.stopPropagation();const {mouseDownValue:d,min:c,max:f,vertical:k,mouseDownClientX:m,mouseDownClientY:e,mouseDownPaddedTrackRect:p}=b.data();let l;if(k){var h=a.touches&&0<a.touches.length?a.touches[0].clientY:a.clientY;a=p.top-p.bottom;l=e-p.bottom;h=h-e+((d-c)/(f-c)*a-l)}else h=a.touches&&0<a.touches.length?
a.touches[0].clientX:a.clientX,a=p.right-p.left,l=m-p.left,h=h-m+((d-c)/(f-c)*a-l);n(b,(f-c)*Math.max(0,Math.min(1,(l+h)/a)));b.trigger("input")},v=b=>a=>{a=g(window);b.removeClass("active");a.off("mousemove touchmove",b.data("mouseMoveWindowHandler"));a.off("mouseup touchend",b.data("mouseUpWindowHandler"))},n=(b,a)=>{const {bar:d,min:c,max:f,step:k,vertical:m}=b.data();a=k*Math.round(a/k);a=Math.max(c,Math.min(f,a));b.data("value",a);b.attr("aria-valuemin",c);b.attr("aria-valuemax",f);b.attr("aria-valuenow",
a);m?d.style.height=(a-c)/(f-c)*100+"%":d.style.width=(a-c)/(f-c)*100+"%"};g.fn.uiRange=function(b,...a){let d=[];for(let m=0;m<this.length;m++){let e=this[m];if("[object String]"!==Object.prototype.toString.call(b)){var c=b||{},f=e.className;const p=null!=c.id?c.id:e.getAttribute("id"),l=null!=c.value?c.value:parseFloat(e.value)||0,h=null!=c.min?c.min:parseFloat(e.getAttribute("min"))||0,q=null!=c.max?c.max:parseFloat(e.getAttribute("max"))||0,y=null!=c.step?c.step:e.hasAttribute("step")?parseFloat(e.getAttribute("step")):
1;c=!!c.vertical;g(e).after('\n\t\t<div class="ui_range" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="1" aria-valuenow="0">\n\t\t\t<div class="padded_track"></div>\n\t\t\t<div class="bar">\n\t\t\t\t<div class="handle"></div>\n\t\t\t</div>\n\t\t</div>\n\t');var k=e;e=e.nextElementSibling;g(k).remove();this[m]=e;k=g(e);f&&e.classList.add(f);c&&e.classList.add("vertical");p&&e.setAttribute("id",p);k.data({paddedTrack:g(".padded_track",e).get(0),bar:g(".bar",e).get(0),handle:g(".handle",
e).get(0),vertical:c,value:l,min:h,max:q,step:y});n(k,l);k.on("mousedown touchstart",w).on("touchmove",x).on("keydown",r).on("wheel",t)}else"set_background"===b?(f=a[0],g(e).data("paddedTrack").style.background=f):"set_value"===b?(f=parseFloat(a[0]),g(e).data("value")!==f&&n(g(e),f)):"get_value"===b&&d.push(g(e).data("value"))}return 0<d.length?1===d.length?d[0]:d:this}})(jQuery);