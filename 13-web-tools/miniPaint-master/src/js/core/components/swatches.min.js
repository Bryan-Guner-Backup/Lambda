'use strict';(function(d){const u=a=>{const c=d(a.target.closest(".ui_swatches")),e=a.key,{rows:b,count:f,selectedIndex:g}=c.data();["Left","ArrowLeft"].includes(e)?(a.preventDefault(),q(c,g-1),c.trigger("input")):["Right","ArrowRight"].includes(e)?(a.preventDefault(),q(c,g+1),c.trigger("input")):["Up","ArrowUp"].includes(e)?(a.preventDefault(),q(c,g-Math.floor(f/b)),c.trigger("input")):["Down","ArrowDown"].includes(e)&&(a.preventDefault(),q(c,g+Math.floor(f/b)),c.trigger("input"))},v=a=>{a=a.target;
const c=d(a.closest(".ui_swatches"));if(a.classList.contains("swatch")){const {swatches:e}=c.data();q(c,e.indexOf(a));c.trigger("input")}},q=(a,c)=>{const {readonly:e,swatches:b}=a.data();b[c]&&(a.data("selectedIndex",c),e||(a.find(".active").removeClass("active"),d(b[c]).addClass("active")))};d.fn.uiSwatches=function(a,...c){let e=[];for(let t=0;t<this.length;t++){var b=this[t];if("[object String]"!==Object.prototype.toString.call(a)){var f=a||{},g=null!=f.id?f.id:b.getAttribute("id"),h=f.cols,k=
f.rows||1,n=f.count||10,p=f.readonly||!1;f=null!=f.selectedIndex?f.selectedIndex:0;d(b).after('\n\t\t<div class="ui_swatches">\n\t\t\t<div class="swatch_group" tabindex="0">\n\t\t\t</div>\n\t\t</div>\n\t');var r=b;b=b.nextElementSibling;d(r).remove();this[t]=b;r=d(b);const l=r.find(".swatch_group")[0];g&&b.setAttribute("id",g);h&&l.classList.add("cols_"+h);l.classList.add("rows_"+k);b=[];for(g=0;g<n;g++){const m=document.createElement("div");m.classList.add("swatch");d(m).data("hex","#ffffff");b.push(m);
l.appendChild(m);g!==f||p||m.classList.add("active")}r.data({selectedIndex:f,swatchGroup:l,swatches:b,count:n,cols:h,rows:k,readonly:p});r.on("click",v).on("keydown",u)}else if("set_selected_hex"===a){k=c[0]+"";{h=d(b);const {selectedIndex:l,swatches:m}=h.data();/^#[0-9A-F]{6}$/gi.test(k)&&d(m[l]).data("hex",k).css("background-color",k)}}else if("get_selected_hex"===a){const {selectedIndex:l,swatches:m}=d(b).data();e.push(d(m[l]).data("hex"))}else if("set_all_hex"===a)for(k=d(b),h=(h=c[0])||[],{swatches:k}=
k.data(),n=0;n<k.length;n++)if(h[n])p=h[n],/^#[0-9A-F]{6}$/gi.test(p)&&d(k[n]).data("hex",p).css("background-color",p);else break;else if("get_all_hex"===a){({swatches:h}=d(b).data());for(let l of h)e.push(d(l).data("hex"))}}return 0<e.length?1===e.length?e[0]:e:this}})(jQuery);